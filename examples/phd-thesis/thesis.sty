
\pagestyle{empty}

% Inter-paragraph spacing
\setlength{\parskip}{0.9em}
\setlength{\parindent}{0em}

\setlength{\floatsep}{12pt plus 2pt minus 2pt}
\setlength{\textfloatsep}{15pt plus 2pt minus 2pt}

% Safely define toggles and macros only if not already defined
% - although we expect these to be defined elsewhere such as the preamble
\makeatletter
\@ifundefined{ifdraftmode}{\newif\ifdraftmode}{}
\@ifundefined{ifprintversion}{\newif\ifprintversion}{}
\@ifundefined{cleardoublepageforprint}{\newcommand{\cleardoublepageforprint}{\cleardoublepage}}{}
\makeatother


\makeatletter	% To avoid error messages generated by "\@". Makes Latex treat "@" like a letter

% Command to create title page
\def\maketitle{

	\begin{titlepage}

		\centering

		\vspace{1mm}

		\textsc{\large \institution}\\[5mm]
		\textsc{\normalsize \faculty}\\[0mm]
		\textsc{\normalsize \institute}

		\vspace{8mm}

		\singlespacing{
			\huge{\bfseries \titlemain}\\[0.1cm]
		}

		\vspace{17mm}

		\Large
		\authorforename\ \textsc{\authorsurname}

		\vspace{17mm}

		A thesis submitted for the degree of \\ \textit{Doctor of Philosophy}

		\vspace{5mm}

		\submitdate

		\vspace{6mm}

		\ifdraftmode
			{\Huge \bfseries \textcolor{darkred}{\fontfamily{pcr}\selectfont DRAFT}} \\
			{\large \bfseries \textcolor{darkred}{\fontfamily{pcr}\selectfont \DTMnow}}\\
			\vspace{7mm}
		\fi

		\vfill

		\includegraphics[width=3cm]{\institutionlogo}

		\vspace{8mm}

		% Conditional ORCID rendering
		\ifdefined\authororcid
			\ifx\authororcid\empty
				% Do nothing if \authororcid is empty
			\else
				\begin{small}
					\href{https://orcid.org/\authororcid}{
						\raisebox{-0.2\height}{\includegraphics[width=1em]{images/768px-ORCID_iD.png}}\hspace{0.3em}orcid.org/\authororcid
					}
				\end{small}
				\vspace{8mm}
			\fi
		\fi

		\normalsize{Supervised by \supervisor}

	\end{titlepage}

}

\makeatother

\definecolor{hyperblue}{rgb}{0.1, 0.1, 0.5}
\definecolor{hyperdarkerblue}{rgb}{0.0, 0.1, 0.4}
\definecolor{hypergray}{rgb}{0.2, 0.2, 0.2}
\definecolor{hyperdarkergray}{rgb}{0.1, 0.1, 0.1}

\colorlet{hyperdoi}{hyperdarkerblue}	% Used for DOI links in the document

\newcommand{\configurehyperref}{
	\ifprintversion
		\hypersetup{
			colorlinks = true,
			linkcolor = hyperdarkergray,	% Inline \ref etc. *and* TOC lines
			citecolor = hypergray,
			urlcolor  = hyperdarkergray,
			filecolor = hyperdarkergray
		}
			\colorlet{hyperdoi}{hyperdarkergray}
	\else
		\hypersetup{
			colorlinks = true,
			linkcolor = hyperdarkerblue,
			citecolor = hyperblue,
			urlcolor  = hyperblue,
			filecolor = hyperblue
		}
	\fi
}


\def\abstract{
  \begin{center}{
    \large\bf Abstract}
  \end{center}
  \small
  %\def\baselinestretch{1.5}
  \linespread{1.5}
  \normalsize
}
\def\endabstract{
  \par
}

\newenvironment{acknowledgements}{
  \cleardoublepageforprint
  \begin{center}{
    \large \bf Acknowledgements}
  \end{center}
  \small
  \linespread{1.5}
  \normalsize
}{\cleardoublepageforprint}
\def\endacknowledgements{
  \par
}


\def\preface{
    \pagenumbering{roman}
    \pagestyle{plain}
    \doublespacing
}

\def\body{
	
    \cleardoublepageforprint    
    \pagestyle{uheadings}
    \tableofcontents
    \pagestyle{plain}
    \cleardoublepageforprint
    \pagestyle{uheadings}
    \listoftables
    \pagestyle{plain}
    \cleardoublepageforprint
    \pagestyle{uheadings}
    \listoffigures
    \pagestyle{plain} 
    \cleardoublepageforprint
    \pagestyle{uheadings}
    \pagenumbering{arabic}
    \doublespacing
    
}

\makeatother  % Revert "@" treatment

% Global thesis spacing
\onehalfspacing 
